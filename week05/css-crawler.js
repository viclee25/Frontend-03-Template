// Array.prototype.slice.call(document.querySelector("#container").children).filter(e=>e.getAttribute("data-tag").match(/css/)).map(e=>({name:e.children[1].innerText, url:e.children[0].href}))
let standards = [{"name":"CSS Cascading and Inheritance Level 4"},{"name":"CSS Grid Layout Module Level 1"},{"name":"CSS Grid Layout Module Level 2"},{"name":"CSS Cascading and Inheritance Level 3"},{"name":"Requirements for Japanese Text Layout 日本語組版処理の要件(日本語版)"},{"name":"Requirements for Chinese Text Layout中文排版需求"},{"name":"Media Queries Level 5"},{"name":"Media Queries Level 4"},{"name":"CSS Lists Module Level 3"},{"name":"CSS Inline Layout Module Level 3"},{"name":"CSS Containment Module Level 2"},{"name":"CSS Overflow Module Level 3"},{"name":"Encoding"},{"name":"Requirements for Hangul Text Layout and Typography : 한국어 텍스트 레이아웃 및 타이포그래피를 위한 요구사항"},{"name":"Ethiopic Layout Requirements"},{"name":"CSS Box Sizing Module Level 4"},{"name":"CSS Positioned Layout Module Level 3"},{"name":"CSS Display Module Level 3"},{"name":"CSS Text Decoration Module Level 4"},{"name":"CSS Ruby Layout Module Level 1"},{"name":"CSS Text Module Level 3"},{"name":"CSS Box Model Module Level 3"},{"name":"CSS Box Model Module Level 4"},{"name":"CSS Box Alignment Module Level 3"},{"name":"CSS Color Adjustment Module Level 1"},{"name":"CSS Speech Module"},{"name":"CSS Conditional Rules Module Level 4"},{"name":"CSS Transforms Module Level 2"},{"name":"CSS Color Module Level 5"},{"name":"Resize Observer"},{"name":"CSS Scroll Anchoring Module Level 1"},{"name":"Timed Text Markup Language 2 (TTML2) (2nd Edition)"},{"name":"CSS Basic User Interface Module Level 4"},{"name":"CSS Writing Modes Level 3"},{"name":"CSS Spatial Navigation Level 1"},{"name":"CSS Containment Module Level 1"},{"name":"CSS Text Module Level 4"},{"name":"CSS Fonts Module Level 4"},{"name":"CSS Color Module Level 4"},{"name":"CSS Properties and Values API Level 1"},{"name":"CSS Multi-column Layout Module Level 1"},{"name":"CSS Images Module Level 3"},{"name":"CSS Text Decoration Module Level 3"},{"name":"CSS Generated Content Module Level 3"},{"name":"CSS Writing Modes Level 4"},{"name":"CSS Table Module Level 3"},{"name":"CSS Syntax Module Level 3"},{"name":"CSS Animation Worklet API"},{"name":"CSS Overscroll Behavior Module Level 1"},{"name":"CSS Values and Units Module Level 3"},{"name":"CSS Intrinsic & Extrinsic Sizing Module Level 3"},{"name":"CSS Easing Functions Level 1"},{"name":"TTML Media Type Definition and Profile Registry"},{"name":"WebVTT: The Web Video Text Tracks Format"},{"name":"Non-element  Selectors  Module  Level 1"},{"name":"CSS Scroll Snap Module Level 1"},{"name":"CSS Pseudo-Elements Module Level 4"},{"name":"CSS Transforms Module Level 1"},{"name":"CSS Values and Units Module Level 4"},{"name":"CSS Snapshot 2018"},{"name":"Motion Path Module Level 1"},{"name":"CSS Fragmentation Module Level 4"},{"name":"Filter Effects Module Level 1"},{"name":"Geometry Interfaces Module Level 1"},{"name":"CSS Fragmentation Module Level 3"},{"name":"Selectors Level 4"},{"name":"CSS Flexible Box Layout Module Level 1"},{"name":"CSS Shadow Parts"},{"name":"Timed Text Markup Language 2 (TTML2)"},{"name":"Selectors Level 3"},{"name":"CSS Paged Media Module Level 3"},{"name":"Web Animations"},{"name":"CSS Transitions"},{"name":"CSS Animations Level 1"},{"name":"CSS Scrollbars Module Level 1"},{"name":"CSS Fonts Module Level 3"},{"name":"Cascading  Style  Sheets,  level 1"},{"name":"CSS Logical Properties and Values Level 1"},{"name":"CSS Painting API Level 1"},{"name":"CSS Basic User Interface Module Level 3 (CSS3 UI)"},{"name":"CSS Color Module Level 3"},{"name":"DOMMatrix interface"},{"name":"CSS Layout API Level 1"},{"name":"CSS Typed OM Level 1"},{"name":"CSS Counter Styles Level 3"},{"name":"CSS Backgrounds and Borders Module Level 3"},{"name":"CSS Overflow Module Level 4"},{"name":"CSS Fill and Stroke Module Level 3"},{"name":"CSS Image Values and Replaced Content Module Level 4"},{"name":"CSS Rhythmic Sizing"},{"name":"Ready-made Counter Styles"},{"name":"CSS Snapshot 2017"},{"name":"CSS Round Display Level 1"},{"name":"Worklets Level 1"},{"name":"Cascading Style Sheets Level 2 Revision 2 (CSS 2.2) Specification"},{"name":"CSS Device Adaptation Module Level 1"},{"name":"CSS Object Model (CSSOM)"},{"name":"CSSOM View Module"},{"name":"CSS Custom Properties for Cascading Variables Module Level 1"},{"name":"CSS Will Change Module Level 1"},{"name":"CSS Snapshot 2015"},{"name":"CSS Page Floats"},{"name":"Priorities for CSS from the Digital Publishing Interest Group"},{"name":"CSS Template Layout Module"},{"name":"CSS Exclusions Module Level 1"},{"name":"Compositing and Blending Level 1"},{"name":"Fullscreen"},{"name":"CSS Presentation Levels Module"},{"name":"CSS  Mobile  Profile 2.0"},{"name":"CSS3 Hyperlink Presentation Module"},{"name":"CSS  Marquee  Module  Level 3"},{"name":"CSS  TV  Profile 1.0"},{"name":"The CSS ‘Reader’ Media Type"},{"name":"Behavioral Extensions to CSS"},{"name":"CSS Regions Module Level 1"},{"name":"CSS Line Grid Module Level 1"},{"name":"CSS Masking Module Level 1"},{"name":"CSS Font Loading Module Level 3"},{"name":"CSS Generated Content for Paged Media Module"},{"name":"SVG Integration"},{"name":"CSS Scoping Module Level 1"},{"name":"CSS Shapes Module Level 1"},{"name":"CSS Namespaces Module Level 3"},{"name":"CSS Style Attributes"},{"name":"Selectors  API  Level 2"},{"name":"CSS Conditional Rules Module Level 3"},{"name":"CSS Print Profile"},{"name":"Selectors API Level 1"},{"name":"Media Queries"},{"name":"Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification"},{"name":"A MathML for CSS Profile"},{"name":"Cascading Style Sheets (CSS) Snapshot 2007"},{"name":"Cascading Style Sheets (CSS) Snapshot 2010"},{"name":"Associating Style Sheets with XML documents 1.0 (Second Edition)"},{"name":"Document Object Model (DOM) Level 2 Style Specification"},{"name":"CSS Techniques for Web Content Accessibility Guidelines 1.0"},{"name":"Aural Cascading Style Sheets (ACSS) Specification"},{"name":"Positioning HTML Elements with Cascading Style Sheets"},{"name":"CSS Printing Extensions"},{"name":"List of suggested extensions to CSS"}]

let iframe = document.createElement('iframe');
document.body.innerHTML = '';
document.body.appendChild(iframe);

function happen(element, event) {
  return new Promise((resolve) => {
    let handler = () => {
      resolve();
      element.removeEventListener(event, handler);
    };
    element.addEventListener(event, handler);
  });
}

void async function () {
  for (let standard of standards) {
    iframe.src = standard.url;
    console.log(standard.name);
    await happen(iframe, 'load');
    console.log(iframe.contentDocument.querySelectorAll(".propdef"));
  }
}();
